{
  "hash": "efdfd0edca49eb16f03c7d904a1af202",
  "result": {
    "markdown": "---\ntitle: \"CYCLIST BIKE SHARE\"\nauthor: \"Ajay Shankar A\"\ndate: \"2025-06-17\"\nformat: \n  html:\n    page-layout: full\n  docx: default\ncategories: [Analysis, Code, EDA]\n---\n\n## Introduction\n\nThe analysis is done on **Cyclist Trip Data** obtained from *Coursera Google Data Analytics* course as part of Cap Stone Project.\n\nThe data contains month wise travel usage of bikes from the year of 2015-2023. We will be concentrating on data gathered in between *July-2022* to *June-2023* which will cover an entire year.\n\nLet's load the required packages first\n\n-   Loading the required packages i.e., `pandas`, `numpy`, `matplotlib`, and `seaborn`.\n\n::: {.cell execution_count=1}\n``` {.python .cell-code}\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n```\n:::\n\n\n## Loading and Formatting Data\n\n-   Let's look at the structure of the data in one of the downloaded `.csv` files.\n\n::: {.cell execution_count=2}\n``` {.python .cell-code}\ntrp_jul_22 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202207-divvy-tripdata/202207-divvy-tripdata.csv\")\n\ntrp_jul_22.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 823488 entries, 0 to 823487\nData columns (total 13 columns):\n #   Column              Non-Null Count   Dtype  \n---  ------              --------------   -----  \n 0   ride_id             823488 non-null  object \n 1   rideable_type       823488 non-null  object \n 2   started_at          823488 non-null  object \n 3   ended_at            823488 non-null  object \n 4   start_station_name  711457 non-null  object \n 5   start_station_id    711457 non-null  object \n 6   end_station_name    702537 non-null  object \n 7   end_station_id      702537 non-null  object \n 8   start_lat           823488 non-null  float64\n 9   start_lng           823488 non-null  float64\n 10  end_lat             822541 non-null  float64\n 11  end_lng             822541 non-null  float64\n 12  member_casual       823488 non-null  object \ndtypes: float64(4), object(9)\nmemory usage: 81.7+ MB\n```\n:::\n:::\n\n\n-   Let's look at the columns and try to understand what they represent\n    -   `ride_id` is the unique identification token generated for each ride that was initiated.\n    -   `rideable_type` indicates the type of bike used for the ride.\n    -   `started_at` and `ended_at` give us the time when the ride began and the ride ended respectively.\n    -   `start_station_name` and `end_station_name` give us the names of stations where ride began and ended respectively.\n    -   `start_station_id` and `end_station_id` are unique ID's given to stations.\n    -   `start_lat` and `start_lng` represent co-ordinates where the ride began.\n    -   `end_lat` and `end_lng` represent co-ordinates where the ride stopped.\n    -   `member_casual` identifies if the rider is a member or casual rider of the bike.\n-   **Lets load data of remaining 11 months.**\n\n::: {.cell results='hide' execution_count=3}\n``` {.python .cell-code}\ntrp_aug_22 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202208-divvy-tripdata/202208-divvy-tripdata.csv\")\ntrp_sep_22 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202209-divvy-tripdata/202209-divvy-publictripdata.csv\")\ntrp_oct_22 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202210-divvy-tripdata/202210-divvy-tripdata_raw.csv\")\ntrp_nov_22 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202211-divvy-tripdata/202211-divvy-tripdata.csv\")\ntrp_dec_22 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202212-divvy-tripdata/202212-divvy-tripdata.csv\")\ntrp_jan_23 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202301-divvy-tripdata/202301-divvy-tripdata.csv\")\ntrp_feb_23 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202302-divvy-tripdata/202302-divvy-tripdata.csv\")\ntrp_mar_23 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202303-divvy-tripdata/202303-divvy-tripdata.csv\")\ntrp_apr_23 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202304-divvy-tripdata/202304-divvy-tripdata.csv\")\ntrp_may_23 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202305-divvy-tripdata/202305-divvy-tripdata.csv\")\ntrp_jun_23 = pd.read_csv(\"F:/Data_Sci/Cap_Stone_Project/Cyclist_trip_data/202306-divvy-tripdata/202306-divvy-tripdata.csv\")\n```\n:::\n\n\nAs structure of `.csv`'s is same across the all the files lets combine all the `.csv` files into a single data frame which contains data of all 12 months.\n\n-   **Combining all the monthly data to one previous year data(`df_1year`).**\n\n::: {.cell execution_count=4}\n``` {.python .cell-code}\ndf_1year_raw = pd.concat([trp_jul_22, trp_aug_22, trp_sep_22, trp_oct_22, trp_nov_22, \n                      trp_dec_22, trp_jan_23, trp_feb_23, trp_mar_23, \n                      trp_apr_23, trp_may_23, trp_jun_23], ignore_index=True)\n\ndf_1year_raw.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 5779444 entries, 0 to 5779443\nData columns (total 13 columns):\n #   Column              Dtype  \n---  ------              -----  \n 0   ride_id             object \n 1   rideable_type       object \n 2   started_at          object \n 3   ended_at            object \n 4   start_station_name  object \n 5   start_station_id    object \n 6   end_station_name    object \n 7   end_station_id      object \n 8   start_lat           float64\n 9   start_lng           float64\n 10  end_lat             float64\n 11  end_lng             float64\n 12  member_casual       object \ndtypes: float64(4), object(9)\nmemory usage: 573.2+ MB\n```\n:::\n:::\n\n\n-   `df_1year` data frame contains data from the month of July-2022 to June-2023.\n\n## Cleaning the Data\n\n-   Checking and counting \"NA\" in each column of the data frame. Data is much better without \"NA\" as they can cause problems while aggregating data and calculating averages and sums. We can use `map` function to perform a function to all of the columns.\n\n::: {.cell execution_count=5}\n``` {.python .cell-code}\ndf_1year = df_1year_raw.copy()\n\ndf_1year.isna().sum()\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```\nride_id                    0\nrideable_type              0\nstarted_at                 0\nended_at                   0\nstart_station_name    857860\nstart_station_id      857992\nend_station_name      915655\nend_station_id        915796\nstart_lat                  0\nstart_lng                  0\nend_lat                 5795\nend_lng                 5795\nmember_casual              0\ndtype: int64\n```\n:::\n:::\n\n\n-   As NA's are not present in the times columns i.e, `started_at` and `ended_at` we don't need to worry ourselves about `NA` during aggregation and manipulation of data but it is a good practice to do so.\n\n-   Finding the length or duration of the rides by making a new column `ride_length` in minutes and making sure that the `ride_length` is not negative by using `if_else` function. Eliminating stations where station names and longitude and latitude co-ordinates are not present.\n\n::: {.cell execution_count=6}\n``` {.python .cell-code}\n# Converting 'started_at' and 'ended_at' to datetime format\ndf_1year = df_1year.astype({'started_at': 'datetime64[ns]', 'ended_at': 'datetime64[ns]'})\n\n# Calculating ride length in minutes\ndf_1year['ride_length'] = (df_1year['ended_at'] - df_1year['started_at']).dt.total_seconds() / 60\n\n# Replacing negative ride lengths with NaN\ndf_1year['ride_length'] = df_1year['ride_length'].apply(lambda x:0 if x < 0 else x)\n\n# Dropping rows with NaN values in 'ride_length', 'start_station_name',\n#  'end_station_name', 'start_lat', 'start_lng', 'end_lat', 'end_lng'\n\ndf_1year = ( df_1year[\n                    (df_1year['ride_length'] > 0) & \n                    (df_1year['start_station_name'].notna()) & \n                    (df_1year['end_station_name'].notna()) & \n                    (df_1year['start_lat'].notna()) & \n                    (df_1year['start_lng'].notna()) & \n                    (df_1year['end_lat'].notna()) & \n                    (df_1year['end_lng'].notna())\n                    ].sort_values('ride_length', ascending=False)\n                    )\n\ndf_1year.info()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n<class 'pandas.core.frame.DataFrame'>\nIndex: 4408996 entries, 717461 to 4375674\nData columns (total 14 columns):\n #   Column              Dtype         \n---  ------              -----         \n 0   ride_id             object        \n 1   rideable_type       object        \n 2   started_at          datetime64[ns]\n 3   ended_at            datetime64[ns]\n 4   start_station_name  object        \n 5   start_station_id    object        \n 6   end_station_name    object        \n 7   end_station_id      object        \n 8   start_lat           float64       \n 9   start_lng           float64       \n 10  end_lat             float64       \n 11  end_lng             float64       \n 12  member_casual       object        \n 13  ride_length         float64       \ndtypes: datetime64[ns](2), float64(5), object(7)\nmemory usage: 504.6+ MB\n```\n:::\n:::\n\n\n## Analysis of Data\n\n#### Aggregating data by Rider type and Bike type.\n\n-   Aggregating data to see **\"Average minutes per ride\"** grouped by \"bike type\" and \"rider type\" after removing rides less than 2 minutes (As rides less than 2 minutes tend to have the same start and stop stations).\n\n::: {#tbl-avg_ride_legnth .cell tbl-cap='Average minutes per ride' execution_count=7}\n``` {.python .cell-code}\ndf_1year_agg = (df_1year[df_1year['ride_length'] >= 2]\n                     .groupby(['rideable_type', 'member_casual'])\n                     .agg(avg_ride_length=('ride_length', 'mean'),\n                          total_rides=('ride_length', 'count'),\n                          max_ride_length=('ride_length', 'max'))\n                     .round(2)\n                     .sort_values(by='avg_ride_length', ascending=False)\n                     .reset_index()\n                     )\n\ndf_1year_agg\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>rideable_type</th>\n      <th>member_casual</th>\n      <th>avg_ride_length</th>\n      <th>total_rides</th>\n      <th>max_ride_length</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>docked_bike</td>\n      <td>casual</td>\n      <td>50.44</td>\n      <td>136794</td>\n      <td>32035.45</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>classic_bike</td>\n      <td>casual</td>\n      <td>24.80</td>\n      <td>781530</td>\n      <td>1497.75</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>electric_bike</td>\n      <td>casual</td>\n      <td>16.03</td>\n      <td>709649</td>\n      <td>479.98</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>classic_bike</td>\n      <td>member</td>\n      <td>13.49</td>\n      <td>1630991</td>\n      <td>1497.87</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>electric_bike</td>\n      <td>member</td>\n      <td>11.14</td>\n      <td>984688</td>\n      <td>480.00</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\nWe can clearly notice in @tbl-avg_ride_legnth that **member** riders have more number of rides with both **classic and electric bikes** while the average ride length is higher with **casual** riders.\n\n-   Calculating and visualizing **Average ride length** by \"Rider type\".\n\n::: {.cell execution_count=8}\n``` {.python .cell-code}\navg_ride_by_rideable_type = (\n    df_1year.rename(columns={'rideable_type': 'Bike Type', 'member_casual': 'Rider Type'})\n    .groupby(['Bike Type', 'Rider Type'])\n    .agg(\n        avg_ride_by_rideable_type=('ride_length', 'mean'),\n        total_rides=('ride_length', 'count')\n    )\n    .reset_index()\n)\n\nsns.set(rc={'figure.figsize':(10, 6)})\nsns.barplot(data=avg_ride_by_rideable_type,\n            x='Rider Type', y='avg_ride_by_rideable_type', hue='Bike Type')\nplt.title('Average Ride Length by Rider Type and Bike Type')\nplt.xlabel('Rider Type')\nplt.ylabel('Average Ride Length (minutes)')\nplt.legend(title='Bike Type')\nplt.xticks(rotation=45)\nplt.tight_layout(rect=[0, 0, 1, 0.96])\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-display}\n![Average Ride Length by Rider type and Member type](cyc_trip_analysis_files/figure-html/fig-avg_ride_length-output-1.png){#fig-avg_ride_length}\n:::\n:::\n\n\nThe above @fig-avg_ride_length clearly shows that members average ride lengths between bike types doesn't differ much for **member** riders but differs with **casual** riders upto **8 minutes**.\n\n::: callout-warning\n## Note\n\nFurther down in the analysis \"docked_bike\" type is dropped as no proper documentation is available in the course.\n:::\n\n### Analysing data by Time of the year and Ride Length\n\n#### Ride Patterns Across the Weeks and Months of the Year\n\n-   Calculating and visualizing ride patterns in a week for number of rides.\n\n::: {.cell execution_count=9}\n``` {.python .cell-code}\n# Define the order for rideable_type\nrideable_order = [\"classic_bike\", \"electric_bike\", \"docked_bike\"]\n\n# Filter out 'docked_bike'\ndf_1year_filtered = df_1year[df_1year['rideable_type'] != 'docked_bike'].copy()\n\n# Extracting month and weekday names \n\ndf_1year_filtered['month'] = df_1year_filtered['started_at'].dt.month_name()\ndf_1year_filtered['weekday'] = df_1year_filtered['started_at'].dt.day_name()\n\n# Set categorical order for rideable_type, member_casual, and month\n\ndf_1year_filtered['rideable_type'] = pd.Categorical(df_1year_filtered['rideable_type'], categories=rideable_order, ordered=True)\n\n# Set categorical order for member_casual to control legend order\nmember_order = ['member', 'casual']\ndf_1year_filtered['member_casual'] = pd.Categorical(df_1year_filtered['member_casual'], categories=member_order, ordered=True)\n\nmonth_order = ['July', 'August', 'September', 'October', 'November', 'December',\n             'January', 'February', 'March', 'April', 'May', 'June']\n\nweekday_order = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\n\ndf_1year_filtered['month'] = pd.Categorical(df_1year_filtered['month'], categories=month_order, ordered=True)\ndf_1year_filtered['weekday'] = pd.Categorical(df_1year_filtered['weekday'], categories=weekday_order, ordered=True)\n\n# Plot \ng = sns.catplot(\n    data = df_1year_filtered,\n    x = 'weekday',\n    kind= 'count',\n    hue = 'member_casual',\n    col= 'month',\n    col_wrap= 4,\n    height= 4,\n    aspect= 1.5,\n    palette= 'Set2',\n    dodge = True\n)\n\ng.set_axis_labels(\"Weekday\", \"Number of Rides\")\ng.set_titles(col_template=\"{col_name}\")\ng.fig.suptitle(\n    \"Ride Patterns on Weekdays of each Month \\n From July-2022 to June-2023\", fontsize=18\n)\ng.add_legend(title=\"Rider Type\")\nplt.tight_layout()\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Ride Patterns Across the Weeks of the Year](cyc_trip_analysis_files/figure-html/fig-ride_patterns_week-output-1.png){#fig-ride_patterns_week}\n:::\n:::\n\n\nThe above @fig-ride_patterns_week clearly shows how the number of rides change due to seasons. In winters the number of rides decrease very drastically may be because of temperature and snow. In Summers the number of rides are at its peak.\n\nThe number of rides driven by **member** riders increases through the week especially in working week days but for casual riders the rides increase in the weekends. The @fig-ride_patterns_week shows number of rides on Saturdays and Sundays by casual members overtake membership riders in the months of July and August.\n\nAggregating data for the visualization.\n\n::: {.cell execution_count=10}\n``` {.python .cell-code}\ndf_1year['month'] = df_1year['started_at'].dt.month_name()\ndf_1year['weekday'] = df_1year['started_at'].dt.day_name()\n\n# Set categorical order for month\nmonth_order = ['July', 'August', 'September', 'October', 'November', 'December',\n             'January', 'February', 'March', 'April', 'May', 'June']\ndf_1year['month'] = pd.Categorical(df_1year['month'], categories=month_order, ordered=True)\n\n# Set categorical order for weekday\nweekday_order = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday']\ndf_1year['weekday'] = pd.Categorical(df_1year['weekday'], categories=weekday_order, ordered=True)\n\n\nrides_on_days = df_1year.groupby(['month', 'weekday', 'member_casual']).agg(\n    avg_ride_length=('ride_length', 'mean'),\n    total_ride_length=('ride_length', 'sum'),\n    total_rides=('ride_length', 'count')\n).reset_index().sort_values(by=['month', 'weekday', 'member_casual']).round(2)\n\nrides_on_days.head(5)\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>month</th>\n      <th>weekday</th>\n      <th>member_casual</th>\n      <th>avg_ride_length</th>\n      <th>total_ride_length</th>\n      <th>total_rides</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>July</td>\n      <td>Monday</td>\n      <td>casual</td>\n      <td>27.10</td>\n      <td>918148.73</td>\n      <td>33874</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>July</td>\n      <td>Monday</td>\n      <td>member</td>\n      <td>13.22</td>\n      <td>531467.68</td>\n      <td>40209</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>July</td>\n      <td>Tuesday</td>\n      <td>casual</td>\n      <td>22.48</td>\n      <td>705945.77</td>\n      <td>31404</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>July</td>\n      <td>Tuesday</td>\n      <td>member</td>\n      <td>12.69</td>\n      <td>588326.98</td>\n      <td>46353</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>July</td>\n      <td>Wednesday</td>\n      <td>casual</td>\n      <td>21.66</td>\n      <td>704094.58</td>\n      <td>32514</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n::: {.cell execution_count=11}\n``` {.python .cell-code}\nsns.barplot(data=rides_on_days, x='weekday', y='avg_ride_length', hue='member_casual', \n            palette='Set1', errorbar=None, estimator=np.mean)\nplt.title('Average Ride Length by Weekday and Rider Type')\nplt.xlabel('Weekday')\nplt.ylabel('Average Ride Length (minutes)')\nplt.legend(title='Rider Type')\nplt.xticks(rotation=45)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Average Ride Length by Weekday and Rider Type](cyc_trip_analysis_files/figure-html/fig-avg_ride_length_weekday-output-1.png){#fig-avg_ride_length_weekday}\n:::\n:::\n\n\nThe above @fig-avg_ride_length_weekday shows that the average ride length is higher for **casual** riders than **member** riders on all the days of the week. The average ride length is highest on **Saturdays** and **Sundays** for both the rider types.\n\n::: {.cell execution_count=12}\n``` {.python .cell-code}\nsns.barplot(data=rides_on_days, x='month', y='avg_ride_length', hue='member_casual', \n            palette='Set1', errorbar=None)\nplt.title('Average Ride Length by Month and Rider Type')\nplt.xlabel('Month')\nplt.ylabel('Average Ride Length (minutes)')\nplt.legend(title='Rider Type')\nplt.xticks(rotation=45)\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Average Ride Length by Month and Rider Type](cyc_trip_analysis_files/figure-html/fig-avg_ride_length_month-output-1.png){#fig-avg_ride_length_month}\n:::\n:::\n\n\nThe above @fig-avg_ride_length_month shows that the average ride length is higher for **casual** riders than **member** riders in all the months of the year. The average ride length is highest in the month of **August** for both the rider types.\n\n::: {.cell execution_count=13}\n``` {.python .cell-code}\nsns.lineplot(data=rides_on_days, x='weekday', y='total_rides', hue='member_casual', \n            palette='Set1', errorbar=None)\nplt.title('Number of Rides by Weekday and Rider Type')\nplt.xlabel('Weekday')\nplt.ylabel('Number of Rides')\nplt.legend(title='Rider Type')\nplt.show()\n\n```\n\n::: {.cell-output .cell-output-display}\n![Number of Rides by Weekday and Rider Type](cyc_trip_analysis_files/figure-html/fig-avg_num_rides_weekday-output-1.png){#fig-avg_num_rides_weekday}\n:::\n:::\n\n\nThe above @fig-avg_num_rides_weekday shows that the number of rides is higher for **member** riders than **casual** riders on all the days of the week. The number of rides is meet on **Saturdays** for both the rider types.\n\n::: {.cell execution_count=14}\n``` {.python .cell-code}\nsns.lineplot(data=rides_on_days, x='month', y='total_rides', hue='member_casual', \n            palette='Set1', errorbar=None)\nplt.title('Number of Rides by Month and Rider Type')\nplt.xlabel('Month')\nplt.ylabel('Number of Rides')\nplt.legend(title='Rider Type')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Number of Rides by Month and Rider Type](cyc_trip_analysis_files/figure-html/fig-avg_num_rides_month-output-1.png){#fig-avg_num_rides_month}\n:::\n:::\n\n\nThe above @fig-avg_num_rides_month shows that the number of rides is higher for **member** riders than **casual** riders in all the months of the year. The number of rides is highest in the month of **August** for both the rider types.\n\n#### Ride Patterns Across the Hours of the Day\n\n-   Calculating and visualizing ride patterns in a day for number of rides.\n\n::: {.cell execution_count=15}\n``` {.python .cell-code}\n# Extracting hour from started_at\ndf_1year['hour'] = df_1year['started_at'].dt.hour.astype(str).str.zfill(2)  # Format hour as two digits\n\n# Set categorical order for hour\nhour_order = [f\"{hour:02d}\" for hour in range(24)]\n\ndf_1year['hour'] = pd.Categorical(df_1year['hour'], categories=hour_order, ordered=True)\n\nrides_by_hour = df_1year.groupby(['hour', 'member_casual']).agg(total_rides=('ride_length', 'count')).reset_index()\n\nsns.barplot(data=rides_by_hour, x='hour', y='total_rides', hue='member_casual', \n            palette='Set1', errorbar=None)\nplt.title('Ride Patterns Across the Hours of the Day')\nplt.xlabel('Hour of the Day')\nplt.ylabel('Number of Rides')\nplt.legend(title='Rider Type')\nplt.show()\n```\n\n::: {.cell-output .cell-output-display}\n![Ride Patterns Across the Hours of the Day](cyc_trip_analysis_files/figure-html/fig-ride_patterns_day-output-1.png){#fig-ride_patterns_day}\n:::\n:::\n\n\nThe above @fig-ride_patterns_day shows that the number of rides is higher for **member** riders than **casual** riders in the morning hours and evening hours. The number of rides is highest in the evening hours for both the rider types.\n\n## Conclusion\n\nThe analysis of the cyclist trip data reveals several key insights:\n\n### Rider Patterns\n\n-   **Member riders** tend to use bikes more frequently than **casual riders**, especially during weekdays.\n-   **Casual riders** show a preference for weekends, with a significant increase in rides during Saturdays and Sundays.\n\n### Ride Length\n\n-   The average ride length is generally longer for **casual riders** compared to **member riders**.\n-   The longest average ride lengths occur on weekends, particularly for **casual riders**.\n\n### Seasonal Trends\n\n-   The number of rides fluctuates significantly throughout the year, with peaks in summer months (July and August) and a noticeable drop in winter months (January and February).\n-   The analysis indicates that weather and seasonal changes have a substantial impact on cycling patterns.\n-   The data suggests that **member riders** maintain a more consistent usage pattern throughout the year compared to **casual riders**.\n\n### Temporal Patterns\n\n-   Ride patterns vary by time of day, with peak usage in the morning and evening hours.\n-   The analysis highlights the importance of understanding temporal patterns to optimize bike availability and station placements.\n\n## Recommendations\n\n-   **Infrastructure Improvements**: Consider adding more bike stations in areas with high casual rider activity, especially during weekends.\n-   **Promotional Campaigns**: Encourage casual riders to become members by offering incentives, such as discounts or free trials, to increase overall ridership.\n-   **Seasonal Promotions**: Implement seasonal promotions to boost ridership during colder months, potentially by offering discounts or special events to attract casual riders.\n-   **Data-Driven Decisions**: Continue to analyze ride patterns regularly to adapt to changing user behaviors and preferences, ensuring that the bike-sharing system remains efficient and user-friendly.\n\n",
    "supporting": [
      "cyc_trip_analysis_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}